<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExportIQ 360 - Professional Assessment Platform</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="https://unpkg.com/chartjs-plugin-datalabels@2"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #1e40af;
            --accent: #f59e0b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1f2937;
            --light: #f8fafc;
        }
        
        .gradient-primary {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 50%, #1e40af 100%);
        }
        
        .gradient-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        
        .gradient-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        .gradient-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
        
        .glass-effect {
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.6s ease-out;
        }
        
        .animate-slideUp {
            animation: slideUp 0.5s ease-out;
        }
        
        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question-option {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .question-option:hover {
            transform: translateX(8px);
            box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1);
        }
        
        .question-option.selected {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            color: white;
            transform: translateX(8px);
        }
        
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
        }
        
        .score-circle {
            transition: stroke-dashoffset 1s ease-in-out;
        }
        
        .metric-card {
            transition: all 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.25);
        }
        
        @media print {
            .no-print {
                display: none !important;
            }
            .glass-effect {
                background: white !important;
                backdrop-filter: none !important;
            }
        }
        
        @media (max-width: 640px) {
            .question-option {
                padding: 1rem 1.5rem;
                font-size: 0.875rem;
            }
            
            .chart-container {
                height: 300px;
            }
            
            h1 {
                font-size: 2rem !important;
            }
            
            h2 {
                font-size: 1.5rem !important;
            }
            
            h3 {
                font-size: 1.25rem !important;
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Language Translations
        const TRANSLATIONS = {
            tr: {
                assessmentTypes: {
                    'e-commerce': {
                        title: 'E-Ticaret Yetkinlik Değerlendirmesi',
                        description: 'Şirketinizin e-ticaret yeteneklerini kapsamlı olarak değerlendirin'
                    },
                    'e-export': {
                        title: 'E-İhracat Yetkinlik Değerlendirmesi',
                        description: 'Uluslararası e-ihracat potanyelinizi keşedin'
                    }
                },
                common: {
                    startAssessment: 'Değerlendirmeyi Başlat',
                    previousQuestion: 'Önceki Soru',
                    nextQuestion: 'Sonraki Soru',
                    finishAssessment: 'Değerlendirmeyi Tamamla',
                    yes: 'Evet',
                    no: 'Hayır',
                    partial: 'Kısmen / Fikrim yok',
                    results: 'Değerlendirme Sonuçları',
                    exportPDF: 'PDF İndir',
                    sendEmail: 'Email Gönder',
                    print: 'Yazdır',
                    newAssessment: 'Yeni Değerlendirme',
                    companyInfo: 'Şirket Bilgileri',
                    analyzing: 'Analiz Ediliyor...',
                    mainTitle: 'ExportIQ 360',
                    mainSubtitle: 'Dijital ticaret yetkinliklerinizi profesyonel olarak değerlendirin'
                }
            },
            en: {
                assessmentTypes: {
                    'e-commerce': {
                        title: 'E-Commerce Competence Assessment',
                        description: 'Comprehensively evaluate your company\'s e-commerce capabilities'
                    },
                    'e-export': {
                        title: 'E-Export Competence Assessment',
                        description: 'Discover your international e-export potential'
                    }
                },
                common: {
                    startAssessment: 'Start Assessment',
                    previousQuestion: 'Previous Question',
                    nextQuestion: 'Next Question',
                    finishAssessment: 'Complete Assessment',
                    yes: 'Yes',
                    no: 'No',
                    partial: 'Partially / Not Sure',
                    results: 'Assessment Results',
                    exportPDF: 'Download PDF',
                    sendEmail: 'Send Email',
                    print: 'Print',
                    newAssessment: 'New Assessment',
                    companyInfo: 'Company Information',
                    analyzing: 'Analyzing...',
                    mainTitle: 'ExportIQ 360',
                    mainSubtitle: 'Professionally evaluate your digital commerce competencies'
                }
            }
        };

        // Assessment Systems Configuration
        const ASSESSMENT_TYPES = {
            'e-commerce': {
                icon: 'fas fa-shopping-cart',
                color: 'blue'
            },
            'e-export': {
                icon: 'fas fa-globe-americas',
                color: 'green'
            }
        };

        // Question Banks for Different Assessment Types
        const QUESTION_BANKS = {
            'e-commerce': {
                'platform_tech': {
                    title: 'Platform ve Teknoloji',
                    icon: 'fas fa-laptop',
                    questions: [
                        'E-ticaret siteniz var mı?',
                        'Mobil uyumlu tasarımınız var mı?',
                        'Çoklu ödeme sistemi desteğiniz var mı?',
                        'Stok yönetim sisteminiz otomatik mi?',
                        'Müşteri hizmetleri chat sisteminiz var mı?'
                    ]
                },
                'marketing_sales': {
                    title: 'Pazarlama ve Satış',
                    icon: 'fas fa-chart-line',
                    questions: [
                        'Dijital pazarlama kampanyaları yürütüyor musunuz?',
                        'Sosyal medyada aktif misiniz?',
                        'SEO optimizasyonu yapıyor musunuz?',
                        'E-posta pazarlama kullanıyor musunuz?',
                        'Müşteri analizi yapıyor musunuz?'
                    ]
                },
                'operations': {
                    title: 'Operasyonlar',
                    icon: 'fas fa-cogs',
                    questions: [
                        'Kargo entegrasyonunuz var mı?',
                        'İade süreciniz otomatik mi?',
                        'Müşteri memnuniyeti ölçüyor musunuz?',
                        'Envanter yönetiminiz düzenli mi?',
                        'Satış raporlaması yapıyor musunuz?'
                    ]
                }
            },
            'e-export': {
                'digital_strategy': {
                    title: 'Dijital Strateji',
                    icon: 'fas fa-chess',
                    questions: [
                        'E-ihracat için dijital stratejiniz var mı?',
                        'Hedef pazarları belirlemiş misiniz?',
                        'Dijital dönüşüm bütçeniz var mı?',
                        'Pazar araştırması yapıyor musunuz?',
                        'Danışmanlık hizmeti alıyor musunuz?'
                    ]
                },
                'international': {
                    title: 'Uluslararası Ticaret',
                    icon: 'fas fa-globe',
                    questions: [
                        'Çoklu dil desteğiniz var mı?',
                        'Çoklu para birimi kullanıyor musunuz?',
                        'Gümrük süreçlerinizi dijitalleştirdiniz mi?',
                        'Uluslararası sertifikalarınız var mı?',
                        'İhracat finansman araçları kullanıyor musunuz?'
                    ]
                },
                'compliance': {
                    title: 'Uyumluluk',
                    icon: 'fas fa-balance-scale',
                    questions: [
                        'Uluslararası standartlara uyuyor musunuz?',
                        'GDPR/KVKK uyumlu musunuz?',
                        'Ticaret mevzuatını takip ediyor musunuz?',
                        'Vergi yükümlülüklerinizi bilir misiniz?',
                        'Yasal danışmanlık alıyor musunuz?'
                    ]
                }
            }
        };

        // Score calculation logic
        const calculateScore = (answers) => {
            const totalQuestions = Object.values(answers).length;
            const yesAnswers = Object.values(answers).filter(answer => answer === 'yes').length;
            return Math.round((yesAnswers / totalQuestions) * 100);
        };

        // Get performance level
        const getPerformanceLevel = (score) => {
            if (score >= 85) return { level: 'Mükemmel', color: 'green', description: 'Sektörde lider konumdasınız' };
            if (score >= 70) return { level: 'İyi', color: 'blue', description: 'İyi seviyede, gelişime açık alanlar var' };
            if (score >= 50) return { level: 'Orta', color: 'yellow', description: 'Temel seviyede, önemli geliştirmeler gerekli' };
            return { level: 'Düşük', color: 'red', description: 'Acil gelişim ve yatırım gereken alanlar mevcut' };
        };

        // Local Storage Helper Functions
        const STORAGE_KEY = 'exportiq_assessment_progress';
        
        const saveProgress = (data) => {
            try {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
            } catch (error) {
                console.error('Failed to save progress:', error);
            }
        };
        
        const loadProgress = () => {
            try {
                const saved = localStorage.getItem(STORAGE_KEY);
                return saved ? JSON.parse(saved) : null;
            } catch (error) {
                console.error('Failed to load progress:', error);
                return null;
            }
        };
        
        const clearProgress = () => {
            try {
                localStorage.removeItem(STORAGE_KEY);
            } catch (error) {
                console.error('Failed to clear progress:', error);
            }
        };

        // Main App Component
        function AssessmentPlatform() {
            const [language, setLanguage] = useState('tr'); // Default language Turkish
            const [currentStep, setCurrentStep] = useState('home');
            const [selectedAssessment, setSelectedAssessment] = useState(null);
            const [currentCategory, setCurrentCategory] = useState(0);
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [answers, setAnswers] = useState({});
            const [companyInfo, setCompanyInfo] = useState({});
            const [results, setResults] = useState(null);
            const [isAnalyzing, setIsAnalyzing] = useState(false);
            const [hasRestoredProgress, setHasRestoredProgress] = useState(false);

            const t = TRANSLATIONS[language]; // Translation helper

            // Load progress on mount
            useEffect(() => {
                if (!hasRestoredProgress) {
                    const savedProgress = loadProgress();
                    if (savedProgress) {
                        const shouldRestore = window.confirm('Daha önceki değerlendirmenize devam etmek ister misiniz?');
                        if (shouldRestore) {
                            setCurrentStep(savedProgress.currentStep);
                            setSelectedAssessment(savedProgress.selectedAssessment);
                            setCurrentCategory(savedProgress.currentCategory);
                            setCurrentQuestion(savedProgress.currentQuestion);
                            setAnswers(savedProgress.answers);
                            setCompanyInfo(savedProgress.companyInfo);
                        } else {
                            clearProgress();
                        }
                    }
                    setHasRestoredProgress(true);
                }
            }, [hasRestoredProgress]);

            // Save progress whenever important state changes
            useEffect(() => {
                if (hasRestoredProgress && currentStep !== 'home' && currentStep !== 'results') {
                    saveProgress({
                        currentStep,
                        selectedAssessment,
                        currentCategory,
                        currentQuestion,
                        answers,
                        companyInfo
                    });
                }
            }, [currentStep, selectedAssessment, currentCategory, currentQuestion, answers, companyInfo, hasRestoredProgress]);

            const questionCategories = selectedAssessment ? Object.entries(QUESTION_BANKS[selectedAssessment]) : [];
            const totalQuestions = questionCategories.reduce((acc, [key, category]) => acc + category.questions.length, 0);
            const answeredQuestions = Object.keys(answers).length;
            const progressPercentage = totalQuestions > 0 ? (answeredQuestions / totalQuestions) * 100 : 0;

            const handleAssessmentSelect = (type) => {
                setSelectedAssessment(type);
                setCurrentStep('company-info');
                setAnswers({});
                setCurrentCategory(0);
                setCurrentQuestion(0);
                clearProgress(); // Clear any old progress when starting new
            };

            const handleCompanyInfoSubmit = (info) => {
                setCompanyInfo(info);
                setCurrentStep('questions');
            };

            const handleAnswer = (answer) => {
                const questionKey = `${currentCategory}_${currentQuestion}`;
                setAnswers(prev => ({ ...prev, [questionKey]: answer }));

                // Auto-advance to next question after a short delay
                setTimeout(() => {
                    const currentCategoryData = questionCategories[currentCategory][1];
                    if (currentQuestion < currentCategoryData.questions.length - 1) {
                        setCurrentQuestion(currentQuestion + 1);
                    } else if (currentCategory < questionCategories.length - 1) {
                        setCurrentCategory(currentCategory + 1);
                        setCurrentQuestion(0);
                    }
                    // Don't auto-advance on last question, let user click finish
                }, 300);
            };

            const handleNavigate = (direction) => {
                if (direction === 'previous') {
                    if (currentQuestion > 0) {
                        setCurrentQuestion(currentQuestion - 1);
                    } else if (currentCategory > 0) {
                        setCurrentCategory(currentCategory - 1);
                        const prevCategoryData = questionCategories[currentCategory - 1][1];
                        setCurrentQuestion(prevCategoryData.questions.length - 1);
                    }
                } else if (direction === 'next') {
                    const currentCategoryData = questionCategories[currentCategory][1];
                    if (currentQuestion < currentCategoryData.questions.length - 1) {
                        setCurrentQuestion(currentQuestion + 1);
                    } else if (currentCategory < questionCategories.length - 1) {
                        setCurrentCategory(currentCategory + 1);
                        setCurrentQuestion(0);
                    }
                } else if (direction === 'finish') {
                    analyzeResults();
                }
            };

            const analyzeResults = async () => {
                setIsAnalyzing(true);
                setCurrentStep('analyzing');

                // Simulate analysis delay
                await new Promise(resolve => setTimeout(resolve, 3000));

                const score = calculateScore(answers);
                const performance = getPerformanceLevel(score);
                
                // Calculate category scores
                const categoryScores = {};
                questionCategories.forEach(([categoryKey, categoryData], categoryIndex) => {
                    const categoryAnswers = Object.entries(answers)
                        .filter(([key]) => key.startsWith(`${categoryIndex}_`))
                        .map(([, value]) => value);
                    
                    const categoryScore = categoryAnswers.length > 0 
                        ? Math.round((categoryAnswers.filter(answer => answer === 'yes').length / categoryAnswers.length) * 100)
                        : 0;
                    
                    categoryScores[categoryKey] = {
                        score: categoryScore,
                        title: categoryData.title,
                        icon: categoryData.icon
                    };
                });

                setResults({
                    overallScore: score,
                    performance,
                    categoryScores,
                    assessmentType: selectedAssessment,
                    companyInfo,
                    answeredQuestions: answeredQuestions,
                    totalQuestions: totalQuestions
                });

                setIsAnalyzing(false);
                setCurrentStep('results');
                clearProgress(); // Clear progress when assessment is completed
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50">
                    {currentStep === 'home' && <HomePage onAssessmentSelect={handleAssessmentSelect} language={language} onLanguageChange={setLanguage} t={t} />}
                    {currentStep === 'company-info' && <CompanyInfoStep onSubmit={handleCompanyInfoSubmit} assessmentType={selectedAssessment} />}
                    {currentStep === 'questions' && (
                        <QuestionsStep 
                            assessmentType={selectedAssessment}
                            currentCategory={currentCategory}
                            currentQuestion={currentQuestion}
                            questionCategories={questionCategories}
                            onAnswer={handleAnswer}
                            onNavigate={handleNavigate}
                            answers={answers}
                            progress={progressPercentage}
                            answeredQuestions={answeredQuestions}
                            totalQuestions={totalQuestions}
                        />
                    )}
                    {currentStep === 'analyzing' && <AnalyzingStep />}
                    {currentStep === 'results' && <ResultsStep results={results} onRestart={() => setCurrentStep('home')} />}
                </div>
            );
        }

        // Home Page Component
        function HomePage({ onAssessmentSelect, language, onLanguageChange, t }) {
            return (
                <div className="min-h-screen flex items-center justify-center p-4">
                    <div className="max-w-4xl w-full animate-fadeIn">
                        {/* Language Switcher */}
                        <div className="flex justify-end mb-4">
                            <div className="bg-white rounded-lg shadow-md p-1 flex gap-1">
                                <button
                                    onClick={() => onLanguageChange('tr')}
                                    className={`px-4 py-2 rounded-lg font-medium transition-all ${
                                        language === 'tr' 
                                            ? 'bg-blue-600 text-white' 
                                            : 'text-gray-600 hover:bg-gray-100'
                                    }`}>
                                    🇹🇷 Türkçe
                                </button>
                                <button
                                    onClick={() => onLanguageChange('en')}
                                    className={`px-4 py-2 rounded-lg font-medium transition-all ${
                                        language === 'en' 
                                            ? 'bg-blue-600 text-white' 
                                            : 'text-gray-600 hover:bg-gray-100'
                                    }`}>
                                    🇬🇧 English
                                </button>
                            </div>
                        </div>

                        <div className="text-center mb-12">
                            <h1 className="text-5xl font-bold text-gray-900 mb-4">
                                <span className="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
                                    {t.common.mainTitle}
                                </span>
                            </h1>
                            <p className="text-xl text-gray-600">{t.common.mainSubtitle}</p>
                        </div>

                        <div className="grid md:grid-cols-2 gap-8">
                            {Object.entries(ASSESSMENT_TYPES).map(([key, assessment]) => {
                                const typeData = t.assessmentTypes[key];
                                return (
                                    <div key={key} 
                                         className="glass-effect rounded-2xl p-8 hover:shadow-2xl transition-all duration-300 cursor-pointer group"
                                         onClick={() => onAssessmentSelect(key)}>
                                        <div className={`text-6xl mb-6 text-${assessment.color}-600 group-hover:scale-110 transition-transform`}>
                                            <i className={assessment.icon}></i>
                                        </div>
                                        <h3 className="text-2xl font-bold text-gray-900 mb-4">{typeData.title}</h3>
                                        <p className="text-gray-600 mb-6">{typeData.description}</p>
                                        <div className={`inline-flex items-center px-6 py-3 gradient-${assessment.color === 'blue' ? 'primary' : 'success'} text-white rounded-lg font-medium group-hover:shadow-lg transition-all`}>
                                            {t.common.startAssessment}
                                            <i className="fas fa-arrow-right ml-2"></i>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>
                </div>
            );
        }

        // Company Info Step Component
        function CompanyInfoStep({ onSubmit, assessmentType }) {
            const [formData, setFormData] = useState({
                companyName: '',
                sector: '',
                employeeCount: '',
                annualRevenue: '',
                yearsInBusiness: ''
            });

            const handleSubmit = (e) => {
                e.preventDefault();
                onSubmit(formData);
            };

            return (
                <div className="min-h-screen flex items-center justify-center p-4">
                    <div className="max-w-2xl w-full animate-fadeIn">
                        <div className="glass-effect rounded-2xl p-8">
                            <div className="text-center mb-8">
                                <h2 className="text-3xl font-bold text-gray-900 mb-2">Şirket Bilgileri</h2>
                                <p className="text-gray-600">{ASSESSMENT_TYPES[assessmentType].title} için gerekli bilgileri girin</p>
                            </div>

                            <form onSubmit={handleSubmit} className="space-y-6">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Şirket Adı</label>
                                    <input
                                        type="text"
                                        required
                                        value={formData.companyName}
                                        onChange={(e) => setFormData({...formData, companyName: e.target.value})}
                                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        placeholder="Şirket adınızı girin"
                                    />
                                </div>

                                <div className="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Sektör</label>
                                        <select
                                            required
                                            value={formData.sector}
                                            onChange={(e) => setFormData({...formData, sector: e.target.value})}
                                            className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                            <option value="">Seçiniz</option>
                                            <option value="textile">Tekstil</option>
                                            <option value="electronics">Elektronik</option>
                                            <option value="food">Gıda</option>
                                            <option value="automotive">Otomotiv</option>
                                            <option value="other">Diğer</option>
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Çalışan Sayısı</label>
                                        <select
                                            required
                                            value={formData.employeeCount}
                                            onChange={(e) => setFormData({...formData, employeeCount: e.target.value})}
                                            className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                            <option value="">Seçiniz</option>
                                            <option value="1-10">1-10</option>
                                            <option value="11-50">11-50</option>
                                            <option value="51-200">51-200</option>
                                            <option value="200+">200+</option>
                                        </select>
                                    </div>
                                </div>

                                <div className="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Yıllık Ciro</label>
                                        <select
                                            required
                                            value={formData.annualRevenue}
                                            onChange={(e) => setFormData({...formData, annualRevenue: e.target.value})}
                                            className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                            <option value="">Seçiniz</option>
                                            <option value="0-1M">0-1M TL</option>
                                            <option value="1-10M">1-10M TL</option>
                                            <option value="10-50M">10-50M TL</option>
                                            <option value="50M+">50M+ TL</option>
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Faaliyet Yılı</label>
                                        <select
                                            required
                                            value={formData.yearsInBusiness}
                                            onChange={(e) => setFormData({...formData, yearsInBusiness: e.target.value})}
                                            className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                            <option value="">Seçiniz</option>
                                            <option value="0-2">0-2 yıl</option>
                                            <option value="3-5">3-5 yıl</option>
                                            <option value="6-10">6-10 yıl</option>
                                            <option value="10+">10+ yıl</option>
                                        </select>
                                    </div>
                                </div>

                                <button type="submit" className="w-full gradient-primary text-white py-4 rounded-lg font-medium text-lg hover:shadow-lg transition-all">
                                    Değerlendirmeye Başla
                                    <i className="fas fa-arrow-right ml-2"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            );
        }

        // Questions Step Component
        function QuestionsStep({ currentCategory, currentQuestion, questionCategories, onAnswer, onNavigate, answers, progress, answeredQuestions, totalQuestions }) {
            if (!questionCategories[currentCategory]) return null;

            const [categoryKey, categoryData] = questionCategories[currentCategory];
            const question = categoryData.questions[currentQuestion];
            const questionKey = `${currentCategory}_${currentQuestion}`;
            const currentAnswer = answers[questionKey];
            
            const canGoPrevious = currentCategory > 0 || currentQuestion > 0;
            const isLastQuestion = currentCategory === questionCategories.length - 1 && 
                                   currentQuestion === categoryData.questions.length - 1;

            return (
                <div className="min-h-screen flex items-center justify-center p-4">
                    <div className="max-w-4xl w-full animate-fadeIn">
                        {/* Progress Bar */}
                        <div className="mb-8">
                            <div className="flex justify-between text-sm text-gray-600 mb-2">
                                <span>İlerleme</span>
                                <span>{answeredQuestions}/{totalQuestions}</span>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-2">
                                <div className="gradient-primary h-2 rounded-full progress-bar" style={{width: `${progress}%`}}></div>
                            </div>
                        </div>

                        <div className="glass-effect rounded-2xl p-8">
                            {/* Category Header */}
                            <div className="text-center mb-8">
                                <div className="text-4xl text-blue-600 mb-4">
                                    <i className={categoryData.icon}></i>
                                </div>
                                <h2 className="text-2xl font-bold text-gray-900 mb-2">{categoryData.title}</h2>
                                <p className="text-gray-600">Soru {currentQuestion + 1} / {categoryData.questions.length}</p>
                            </div>

                            {/* Question */}
                            <div className="text-center mb-8">
                                <h3 className="text-xl font-medium text-gray-900 mb-8">{question}</h3>
                                
                                {currentAnswer && (
                                    <div className="mb-6 text-sm text-blue-600">
                                        <i className="fas fa-info-circle mr-2"></i>
                                        Mevcut cevabınız: <span className="font-bold">{currentAnswer === 'yes' ? 'Evet' : 'Hayır'}</span>
                                    </div>
                                )}
                                
                                {/* Answer Options */}
                                <div className="flex flex-col sm:flex-row gap-4 justify-center max-w-2xl mx-auto">
                                    <button
                                        onClick={() => onAnswer('yes')}
                                        className={`question-option flex items-center justify-center px-8 py-4 bg-white border-2 rounded-xl font-medium transition-all ${
                                            currentAnswer === 'yes' ? 'border-green-500 bg-green-50' : 'border-green-200 hover:border-green-500'
                                        }`}>
                                        <i className="fas fa-check text-green-600 mr-3"></i>
                                        Evet
                                    </button>
                                    <button
                                        onClick={() => onAnswer('no')}
                                        className={`question-option flex items-center justify-center px-8 py-4 bg-white border-2 rounded-xl font-medium transition-all ${
                                            currentAnswer === 'no' ? 'border-red-500 bg-red-50' : 'border-red-200 hover:border-red-500'
                                        }`}>
                                        <i className="fas fa-times text-red-600 mr-3"></i>
                                        Hayır
                                    </button>
                                    <button
                                        onClick={() => onAnswer('partial')}
                                        className={`question-option flex items-center justify-center px-8 py-4 bg-white border-2 rounded-xl font-medium transition-all ${
                                            currentAnswer === 'partial' ? 'border-gray-500 bg-gray-50' : 'border-gray-200 hover:border-gray-500'
                                        }`}>
                                        <i className="fas fa-question text-gray-600 mr-3"></i>
                                        Kısmen / Fikrim yok
                                    </button>
                                </div>
                            </div>

                            {/* Navigation Buttons */}
                            <div className="flex justify-between items-center mt-8 pt-6 border-t">
                                <button
                                    onClick={() => onNavigate('previous')}
                                    disabled={!canGoPrevious}
                                    className={`flex items-center px-6 py-3 rounded-lg font-medium transition-all ${
                                        canGoPrevious 
                                            ? 'bg-gray-100 text-gray-700 hover:bg-gray-200' 
                                            : 'bg-gray-50 text-gray-400 cursor-not-allowed'
                                    }`}>
                                    <i className="fas fa-arrow-left mr-2"></i>
                                    Önceki Soru
                                </button>
                                
                                {currentAnswer && !isLastQuestion && (
                                    <button
                                        onClick={() => onNavigate('next')}
                                        className="flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all">
                                        Sonraki Soru
                                        <i className="fas fa-arrow-right ml-2"></i>
                                    </button>
                                )}
                                
                                {currentAnswer && isLastQuestion && (
                                    <button
                                        onClick={() => onNavigate('finish')}
                                        className="flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-all">
                                        Değerlendirmeyi Tamamla
                                        <i className="fas fa-check ml-2"></i>
                                    </button>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Analyzing Step Component
        function AnalyzingStep() {
            return (
                <div className="min-h-screen flex items-center justify-center p-4">
                    <div className="text-center animate-fadeIn">
                        <div className="w-24 h-24 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-8"></div>
                        <h2 className="text-3xl font-bold text-gray-900 mb-4">Analiz Ediliyor...</h2>
                        <p className="text-gray-600">Yanıtlarınız AI destekli sistemimizle değerlendiriliyor</p>
                    </div>
                </div>
            );
        }

        // Results Step Component
        function ResultsStep({ results, onRestart }) {
            const chartRef = useRef(null);
            const radarChartRef = useRef(null);
            const [showEmailModal, setShowEmailModal] = useState(false);
            const [emailAddress, setEmailAddress] = useState('');
            const [emailStatus, setEmailStatus] = useState(null);

            useEffect(() => {
                if (results && chartRef.current) {
                    createScoreChart();
                    createRadarChart();
                }
            }, [results]);

            const handleExportPDF = () => {
                // Simulated PDF export
                alert('📥 PDF İndirme Özelliği\n\nRapor hazırlanıyor...\n\nGerçek üründe bu rapor profesyonel PDF formatında indirilecek ve şunları içerecek:\n\n✓ Detaylı sonuç analizi\n✓ Grafik ve görsel raporlar\n✓ AI tavsiyeler\n✓ Aksiyon planı\n✓ Sektör karşılaştırması\n\nDemo versiyonunda bu özellik simule edilmiştir.');
            };

            const handleSendEmail = async () => {
                if (!emailAddress || !emailAddress.includes('@')) {
                    setEmailStatus('error');
                    return;
                }
                
                setEmailStatus('sending');
                
                // Simulate email sending
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                setEmailStatus('success');
                setTimeout(() => {
                    setShowEmailModal(false);
                    setEmailStatus(null);
                    setEmailAddress('');
                }, 2000);
            };

            const createScoreChart = () => {
                const ctx = chartRef.current.getContext('2d');
                
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        datasets: [{
                            data: [results.overallScore, 100 - results.overallScore],
                            backgroundColor: [
                                results.performance.color === 'green' ? '#10b981' : 
                                results.performance.color === 'blue' ? '#2563eb' :
                                results.performance.color === 'yellow' ? '#f59e0b' : '#ef4444',
                                '#e5e7eb'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        cutout: '70%',
                        plugins: {
                            legend: { display: false }
                        },
                        maintainAspectRatio: false
                    }
                });
            };

            const createRadarChart = () => {
                if (!radarChartRef.current) return;

                const ctx = radarChartRef.current.getContext('2d');
                const categories = Object.entries(results.categoryScores);

                new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: categories.map(([key, data]) => data.title),
                        datasets: [{
                            label: 'Yetkinlik Skoru',
                            data: categories.map(([key, data]) => data.score),
                            backgroundColor: 'rgba(37, 99, 235, 0.2)',
                            borderColor: '#2563eb',
                            borderWidth: 2,
                            pointBackgroundColor: '#2563eb',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: '#2563eb'
                        }]
                    },
                    options: {
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    stepSize: 20
                                }
                            }
                        },
                        plugins: {
                            legend: { display: false }
                        },
                        maintainAspectRatio: false
                    }
                });
            };

            return (
                <div className="min-h-screen p-4 bg-gradient-to-br from-blue-50 via-white to-indigo-50">
                    <div className="max-w-6xl mx-auto animate-fadeIn">
                        {/* Header */}
                        <div className="text-center mb-12">
                            <h1 className="text-4xl font-bold text-gray-900 mb-4">Değerlendirme Sonuçları</h1>
                            <p className="text-xl text-gray-600 mb-6">{results.companyInfo.companyName} - {ASSESSMENT_TYPES[results.assessmentType].title}</p>
                            
                            {/* Export Buttons */}
                            <div className="flex flex-wrap justify-center gap-4 no-print">
                                <button
                                    onClick={handleExportPDF}
                                    className="flex items-center px-4 sm:px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-all shadow-lg text-sm sm:text-base">
                                    <i className="fas fa-file-pdf mr-2"></i>
                                    <span className="hidden sm:inline">PDF İndir</span>
                                    <span className="sm:hidden">PDF</span>
                                </button>
                                <button
                                    onClick={() => setShowEmailModal(true)}
                                    className="flex items-center px-4 sm:px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-lg text-sm sm:text-base">
                                    <i className="fas fa-envelope mr-2"></i>
                                    <span className="hidden sm:inline">Email Gönder</span>
                                    <span className="sm:hidden">Email</span>
                                </button>
                                <button
                                    onClick={() => window.print()}
                                    className="flex items-center px-4 sm:px-6 py-3 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-all shadow-lg text-sm sm:text-base">
                                    <i className="fas fa-print mr-2"></i>
                                    <span className="hidden sm:inline">Yazdır</span>
                                    <span className="sm:hidden">Print</span>
                                </button>
                                <button
                                    onClick={onRestart}
                                    className="flex items-center px-4 sm:px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-all shadow-lg text-sm sm:text-base">
                                    <i className="fas fa-redo mr-2"></i>
                                    <span className="hidden sm:inline">Yeni Değerlendirme</span>
                                    <span className="sm:hidden">Yeni</span>
                                </button>
                            </div>
                        </div>

                        {/* Executive Summary */}
                        <div className="glass-effect rounded-2xl p-8 mb-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6">
                                <i className="fas fa-crown mr-2 text-purple-600"></i>
                                Executive Summary - Yönetici Özeti
                            </h3>
                            <ExecutiveSummary results={results} />
                        </div>

                        {/* Main Score Card */}
                        <div className="glass-effect rounded-2xl p-8 mb-8 text-center">
                            <div className="grid lg:grid-cols-3 gap-8 items-center">
                                <div className="lg:col-span-1">
                                    <div className="relative w-48 h-48 mx-auto">
                                        <canvas ref={chartRef} className="w-full h-full"></canvas>
                                        <div className="absolute inset-0 flex items-center justify-center">
                                            <div className="text-center">
                                                <div className="text-4xl font-bold text-gray-900">{results.overallScore}%</div>
                                                <div className="text-sm text-gray-600">Genel Puan</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="lg:col-span-2 text-left">
                                    <div className={`inline-flex px-6 py-3 rounded-full text-white font-medium mb-4 gradient-${results.performance.color === 'green' ? 'success' : results.performance.color === 'blue' ? 'primary' : results.performance.color === 'yellow' ? 'warning' : 'danger'}`}>
                                        <i className="fas fa-trophy mr-2"></i>
                                        {results.performance.level}
                                    </div>
                                    <h3 className="text-2xl font-bold text-gray-900 mb-4">{results.performance.description}</h3>
                                    <p className="text-gray-600 mb-6">
                                        {results.answeredQuestions} sorudan {Math.round(results.overallScore / 100 * results.answeredQuestions)} tanesini olumlu yanıtladınız.
                                        Bu sonuç sizi sektördeki şirketlerin %{100 - results.overallScore} kadarından daha iyi durumda gösteriyor.
                                    </p>
                                    
                                    <div className="grid grid-cols-2 gap-4">
                                        <div className="bg-blue-50 rounded-lg p-4">
                                            <div className="text-2xl font-bold text-blue-600">{results.answeredQuestions}</div>
                                            <div className="text-sm text-gray-600">Değerlendirilen Kriter</div>
                                        </div>
                                        <div className="bg-green-50 rounded-lg p-4">
                                            <div className="text-2xl font-bold text-green-600">{Math.round(results.overallScore / 100 * results.answeredQuestions)}</div>
                                            <div className="text-sm text-gray-600">Güçlü Alan</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* ROI & Financial Analysis */}
                        <div className="glass-effect rounded-2xl p-8 mb-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6">
                                <i className="fas fa-chart-pie mr-2 text-green-600"></i>
                                ROI Analizi ve Finansal Modelleme
                            </h3>
                            <ROIAnalysis results={results} />
                        </div>

                        {/* Sector Benchmarking */}
                        <div className="glass-effect rounded-2xl p-8 mb-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6">
                                <i className="fas fa-trophy mr-2 text-blue-600"></i>
                                Sektör Karşılaştırması & Benchmarking
                            </h3>
                            <SectorBenchmarking results={results} />
                        </div>

                        {/* AI Commentary */}
                        <div className="glass-effect rounded-2xl p-8 mb-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6">
                                <i className="fas fa-brain mr-2 text-purple-600"></i>
                                AI Destekli Derin Analiz
                            </h3>
                            <AICommentary results={results} />
                        </div>

                        {/* Category Analysis */}
                        <div className="grid lg:grid-cols-2 gap-8 mb-8">
                            {/* Category Scores */}
                            <div className="glass-effect rounded-2xl p-8">
                                <h3 className="text-2xl font-bold text-gray-900 mb-6">
                                    <i className="fas fa-chart-bar mr-2 text-blue-600"></i>
                                    Kategori Analizi
                                </h3>
                                
                                <div className="space-y-6">
                                    {Object.entries(results.categoryScores).map(([key, data]) => (
                                        <div key={key} className="metric-card">
                                            <div className="flex items-center justify-between mb-2">
                                                <div className="flex items-center">
                                                    <i className={`${data.icon} text-blue-600 mr-3`}></i>
                                                    <span className="font-medium text-gray-900">{data.title}</span>
                                                </div>
                                                <span className="font-bold text-gray-900">{data.score}%</span>
                                            </div>
                                            <div className="w-full bg-gray-200 rounded-full h-2">
                                                <div 
                                                    className="bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-1000"
                                                    style={{width: `${data.score}%`}}
                                                ></div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Radar Chart */}
                            <div className="glass-effect rounded-2xl p-8">
                                <h3 className="text-2xl font-bold text-gray-900 mb-6">
                                    <i className="fas fa-radar-chart mr-2 text-blue-600"></i>
                                    Yetkinlik Haritası
                                </h3>
                                <div className="relative h-80">
                                    <canvas ref={radarChartRef} className="w-full h-full"></canvas>
                                </div>
                            </div>
                        </div>

                        {/* Risk Matrix */}
                        <div className="glass-effect rounded-2xl p-8 mb-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6">
                                <i className="fas fa-shield-alt mr-2 text-red-600"></i>
                                Risk Değerlendirmesi ve Matris Analizi
                            </h3>
                            <RiskMatrix results={results} />
                        </div>

                        {/* Maturity Model */}
                        <div className="glass-effect rounded-2xl p-8 mb-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6">
                                <i className="fas fa-stairs mr-2 text-green-600"></i>
                                Dijital Olgunluk Modeli ve Roadmap
                            </h3>
                            <MaturityModel results={results} />
                        </div>

                        {/* SWOT Analysis */}
                        <div className="glass-effect rounded-2xl p-8 mb-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6">
                                <i className="fas fa-balance-scale mr-2 text-blue-600"></i>
                                SWOT Analizi
                            </h3>
                            <SWOTAnalysis results={results} />
                        </div>

                        {/* Recommendations */}
                        <div className="glass-effect rounded-2xl p-8 mb-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6">
                                <i className="fas fa-lightbulb mr-2 text-blue-600"></i>
                                Gelişim Önerileri
                            </h3>
                            <RecommendationsSection results={results} />
                        </div>

                        {/* Action Buttons - Removed duplicate buttons, using header buttons */}
                        
                        {/* Email Modal */}
                        {showEmailModal && (
                            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 animate-fadeIn">
                                <div className="bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl animate-slideUp">
                                    <div className="text-center mb-6">
                                        <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                            <i className="fas fa-envelope text-blue-600 text-2xl"></i>
                                        </div>
                                        <h3 className="text-2xl font-bold text-gray-900 mb-2">Raporu Email ile Gönder</h3>
                                        <p className="text-gray-600">Değerlendirme raporunuz email adresinize gönderilecek</p>
                                    </div>

                                    {emailStatus === 'success' ? (
                                        <div className="text-center py-8">
                                            <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                                <i className="fas fa-check text-green-600 text-2xl"></i>
                                            </div>
                                            <h4 className="text-lg font-bold text-green-600 mb-2">Başarıyla Gönderildi!</h4>
                                            <p className="text-gray-600">Raporunuz email adresinize gönderildi.</p>
                                        </div>
                                    ) : (
                                        <div>
                                            <div className="mb-6">
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Email Adresi
                                                </label>
                                                <input
                                                    type="email"
                                                    value={emailAddress}
                                                    onChange={(e) => setEmailAddress(e.target.value)}
                                                    placeholder="ornek@email.com"
                                                    className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${
                                                        emailStatus === 'error' ? 'border-red-500' : 'border-gray-300'
                                                    }`}
                                                />
                                                {emailStatus === 'error' && (
                                                    <p className="text-red-600 text-sm mt-2">
                                                        <i className="fas fa-exclamation-circle mr-1"></i>
                                                        Lütfen geçerli bir email adresi girin
                                                    </p>
                                                )}
                                            </div>

                                            <div className="flex gap-3">
                                                <button
                                                    onClick={() => {
                                                        setShowEmailModal(false);
                                                        setEmailStatus(null);
                                                        setEmailAddress('');
                                                    }}
                                                    disabled={emailStatus === 'sending'}
                                                    className="flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-all disabled:opacity-50">
                                                    İptal
                                                </button>
                                                <button
                                                    onClick={handleSendEmail}
                                                    disabled={emailStatus === 'sending'}
                                                    className="flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all disabled:opacity-50 flex items-center justify-center">
                                                    {emailStatus === 'sending' ? (
                                                        <>
                                                            <i className="fas fa-spinner fa-spin mr-2"></i>
                                                            Gönderiliyor...
                                                        </>
                                                    ) : (
                                                        <>
                                                            <i className="fas fa-paper-plane mr-2"></i>
                                                            Gönder
                                                        </>
                                                    )}
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // SWOT Analysis Component
        function SWOTAnalysis({ results }) {
            const getSWOTData = () => {
                const score = results.overallScore;
                const categoryScores = results.categoryScores;
                
                // Strengths - High scoring areas (>70%)
                const strengths = Object.entries(categoryScores)
                    .filter(([key, data]) => data.score > 70)
                    .map(([key, data]) => ({
                        title: data.title,
                        score: data.score,
                        description: `${data.title} alanında güçlü performans sergiliyorsunuz (%${data.score})`
                    }));

                // Weaknesses - Low scoring areas (<50%)
                const weaknesses = Object.entries(categoryScores)
                    .filter(([key, data]) => data.score < 50)
                    .map(([key, data]) => ({
                        title: data.title,
                        score: data.score,
                        description: `${data.title} alanında gelişime ihtiyaç var (%${data.score})`
                    }));

                // Opportunities - Based on assessment type and industry trends
                const opportunities = results.assessmentType === 'e-commerce' ? [
                    { title: 'Mobil Ticaret', description: 'Mobil alışveriş trendinin artışı' },
                    { title: 'Sosyal Medya Pazarlama', description: 'Sosyal ticaret platformlarının yaygınlaşması' },
                    { title: 'AI ve Kişiselleştirme', description: 'Yapay zeka destekli müşteri deneyimi' },
                    { title: 'Sürdürülebilirlik', description: 'Çevre dostu ürün ve hizmet talebi' }
                ] : [
                    { title: 'Dijital Pazarlar', description: 'B2B e-ticaret platformlarının büyümesi' },
                    { title: 'Yeni Coğrafyalar', description: 'Gelişmekte olan pazarlardaki fırsatlar' },
                    { title: 'Dijital Dönüşüm', description: 'İhracat süreçlerinin dijitalleşmesi' },
                    { title: 'Sürdürülebilir İhracat', description: 'Yeşil ihracat sertifikasyonları' }
                ];

                // Threats - External challenges
                const threats = [
                    { title: 'Artan Rekabet', description: 'Dijital pazarlarda yoğun rekabet ortamı' },
                    { title: 'Teknolojik Değişim', description: 'Hızlı teknoloji değişimi ve adaptasyon zorluğu' },
                    { title: 'Düzenlemeler', description: 'Veri koruma ve ticaret düzenlemeleri' },
                    { title: 'Siber Güvenlik', description: 'Artan siber saldırı riski' }
                ];

                return { strengths, weaknesses, opportunities, threats };
            };

            const swotData = getSWOTData();

            return (
                <div className="grid md:grid-cols-2 gap-6">
                    {/* Strengths */}
                    <div className="bg-green-50 rounded-xl p-6">
                        <h4 className="text-lg font-bold text-green-800 mb-4 flex items-center">
                            <i className="fas fa-plus-circle mr-2"></i>
                            Güçlü Yanlar (Strengths)
                        </h4>
                        <div className="space-y-3">
                            {swotData.strengths.length > 0 ? swotData.strengths.map((item, index) => (
                                <div key={index} className="flex items-start">
                                    <div className="w-2 h-2 bg-green-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                                    <div className="text-sm text-green-700">
                                        <span className="font-medium">{item.title}:</span> {item.description}
                                    </div>
                                </div>
                            )) : (
                                <div className="text-sm text-green-700">
                                    <div className="flex items-start">
                                        <div className="w-2 h-2 bg-green-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                                        <span>Mevcut durumunuzu koruma kabiliyeti</span>
                                    </div>
                                    <div className="flex items-start mt-2">
                                        <div className="w-2 h-2 bg-green-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                                        <span>Gelişime açık tutum ve potansiyel</span>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Weaknesses */}
                    <div className="bg-red-50 rounded-xl p-6">
                        <h4 className="text-lg font-bold text-red-800 mb-4 flex items-center">
                            <i className="fas fa-minus-circle mr-2"></i>
                            Zayıf Yanlar (Weaknesses)
                        </h4>
                        <div className="space-y-3">
                            {swotData.weaknesses.length > 0 ? swotData.weaknesses.map((item, index) => (
                                <div key={index} className="flex items-start">
                                    <div className="w-2 h-2 bg-red-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                                    <div className="text-sm text-red-700">
                                        <span className="font-medium">{item.title}:</span> {item.description}
                                    </div>
                                </div>
                            )) : (
                                <div className="text-sm text-red-700">
                                    <div className="flex items-start">
                                        <div className="w-2 h-2 bg-red-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                                        <span>Genel performansın artırılması gereken alanlar mevcut</span>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Opportunities */}
                    <div className="bg-blue-50 rounded-xl p-6">
                        <h4 className="text-lg font-bold text-blue-800 mb-4 flex items-center">
                            <i className="fas fa-arrow-up mr-2"></i>
                            Fırsatlar (Opportunities)
                        </h4>
                        <div className="space-y-3">
                            {swotData.opportunities.map((item, index) => (
                                <div key={index} className="flex items-start">
                                    <div className="w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                                    <div className="text-sm text-blue-700">
                                        <span className="font-medium">{item.title}:</span> {item.description}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Threats */}
                    <div className="bg-orange-50 rounded-xl p-6">
                        <h4 className="text-lg font-bold text-orange-800 mb-4 flex items-center">
                            <i className="fas fa-exclamation-triangle mr-2"></i>
                            Tehditler (Threats)
                        </h4>
                        <div className="space-y-3">
                            {swotData.threats.map((item, index) => (
                                <div key={index} className="flex items-start">
                                    <div className="w-2 h-2 bg-orange-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                                    <div className="text-sm text-orange-700">
                                        <span className="font-medium">{item.title}:</span> {item.description}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // Sector Benchmarking Component
        function SectorBenchmarking({ results }) {
            const getSectorData = () => {
                // Mock sector benchmarking data based on assessment type and company info
                const sectorAverages = results.assessmentType === 'e-commerce' ? {
                    'platform_tech': 65,
                    'marketing_sales': 58,
                    'operations': 62
                } : {
                    'digital_strategy': 52,
                    'international': 48,
                    'compliance': 71
                };

                const industryLeaders = results.assessmentType === 'e-commerce' ? 92 : 89;
                const overallSectorAvg = results.assessmentType === 'e-commerce' ? 62 : 57;
                const percentileRank = Math.min(95, Math.max(5, Math.round((results.overallScore - overallSectorAvg + 25) * 1.8)));

                return { sectorAverages, industryLeaders, overallSectorAvg, percentileRank };
            };

            const sectorData = getSectorData();

            return (
                <div className="space-y-6">
                    {/* Overall Sector Position */}
                    <div className="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6">
                        <div className="grid md:grid-cols-3 gap-6 text-center">
                            <div>
                                <div className="text-3xl font-bold text-blue-600 mb-2">{results.overallScore}%</div>
                                <div className="text-sm text-gray-600">Sizin Puanınız</div>
                            </div>
                            <div>
                                <div className="text-3xl font-bold text-orange-600 mb-2">{sectorData.overallSectorAvg}%</div>
                                <div className="text-sm text-gray-600">Sektör Ortalaması</div>
                            </div>
                            <div>
                                <div className="text-3xl font-bold text-green-600 mb-2">{sectorData.industryLeaders}%</div>
                                <div className="text-sm text-gray-600">Endüstri Liderleri</div>
                            </div>
                        </div>
                        
                        <div className="mt-6 text-center">
                            <div className="inline-flex items-center px-6 py-3 bg-white rounded-full shadow-sm">
                                <i className="fas fa-chart-line text-blue-600 mr-2"></i>
                                <span className="text-lg font-bold text-blue-600">{sectorData.percentileRank}. Yüzdelik Dilim</span>
                            </div>
                            <p className="text-sm text-gray-600 mt-2">
                                Sektördeki şirketlerin %{100 - sectorData.percentileRank} kadarından daha iyi performans gösteriyorsunuz
                            </p>
                        </div>
                    </div>

                    {/* Category Comparison */}
                    <div className="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 className="font-bold text-gray-900 mb-4">Kategori Bazlı Karşılaştırma</h4>
                            <div className="space-y-4">
                                {Object.entries(results.categoryScores).map(([key, data]) => {
                                    const sectorAvg = sectorData.sectorAverages[key] || 60;
                                    const difference = data.score - sectorAvg;
                                    return (
                                        <div key={key} className="bg-white rounded-lg p-4 shadow-sm">
                                            <div className="flex justify-between items-center mb-2">
                                                <span className="text-sm font-medium">{data.title}</span>
                                                <div className="flex items-center space-x-2">
                                                    <span className="text-sm text-gray-600">{sectorAvg}%</span>
                                                    <i className="fas fa-arrow-right text-gray-400"></i>
                                                    <span className="font-bold">{data.score}%</span>
                                                    <span className={`text-xs px-2 py-1 rounded-full ${
                                                        difference > 0 ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
                                                    }`}>
                                                        {difference > 0 ? '+' : ''}{difference}
                                                    </span>
                                                </div>
                                            </div>
                                            <div className="w-full bg-gray-200 rounded-full h-2 relative">
                                                <div className="bg-gray-400 h-2 rounded-full" style={{width: `${sectorAvg}%`}}></div>
                                                <div 
                                                    className="bg-blue-600 h-2 rounded-full absolute top-0 transition-all duration-1000" 
                                                    style={{width: `${data.score}%`}}>
                                                </div>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>

                        <div>
                            <h4 className="font-bold text-gray-900 mb-4">Competitive Position</h4>
                            <div className="bg-white rounded-lg p-6 text-center">
                                <div className="relative w-48 h-48 mx-auto mb-4">
                                    <svg className="w-full h-full transform -rotate-90" viewBox="0 0 100 100">
                                        {/* Background circle */}
                                        <circle cx="50" cy="50" r="40" fill="none" stroke="#e5e7eb" strokeWidth="8"/>
                                        {/* Progress circle */}
                                        <circle 
                                            cx="50" cy="50" r="40" 
                                            fill="none" 
                                            stroke="#2563eb" 
                                            strokeWidth="8"
                                            strokeDasharray={`${2.51 * sectorData.percentileRank} 251`}
                                            className="transition-all duration-2000 ease-out"
                                        />
                                    </svg>
                                    <div className="absolute inset-0 flex items-center justify-center">
                                        <div className="text-center">
                                            <div className="text-2xl font-bold text-gray-900">{sectorData.percentileRank}%</div>
                                            <div className="text-xs text-gray-500">Yüzdelik</div>
                                        </div>
                                    </div>
                                </div>
                                <div className="space-y-2 text-sm">
                                    <div className="flex justify-between">
                                        <span className="text-gray-600">Sektör Pozisyonu:</span>
                                        <span className="font-medium">
                                            {sectorData.percentileRank >= 80 ? 'Lider' :
                                             sectorData.percentileRank >= 60 ? 'Güçlü' :
                                             sectorData.percentileRank >= 40 ? 'Ortalama' : 'Gelişim Gerekli'}
                                        </span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span className="text-gray-600">Rekabet Avantajı:</span>
                                        <span className={`font-medium ${
                                            results.overallScore > sectorData.overallSectorAvg ? 'text-green-600' : 'text-red-600'
                                        }`}>
                                            {results.overallScore > sectorData.overallSectorAvg ? 'Var' : 'Yok'}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // AI Commentary Component
        function AICommentary({ results }) {
            const getAIInsights = () => {
                const score = results.overallScore;
                const assessmentType = results.assessmentType;
                const companyInfo = results.companyInfo;
                
                // Simulated AI commentary based on results
                const insights = {
                    keyStrengths: [],
                    criticalGaps: [],
                    strategicRecommendation: '',
                    marketOpportunity: '',
                    riskAssessment: ''
                };

                // Key Strengths Analysis
                const topCategories = Object.entries(results.categoryScores)
                    .sort(([,a], [,b]) => b.score - a.score)
                    .slice(0, 2);
                
                topCategories.forEach(([key, data]) => {
                    if (data.score > 70) {
                        insights.keyStrengths.push(`${data.title} alanındaki %${data.score} performansınız sektör ortalamasının üzerinde ve rekabet avantajı sağlıyor.`);
                    }
                });

                // Critical Gaps
                const weakCategories = Object.entries(results.categoryScores)
                    .filter(([key, data]) => data.score < 50);
                    
                weakCategories.forEach(([key, data]) => {
                    insights.criticalGaps.push(`${data.title} alanı (%${data.score}) acil iyileştirme gerektiriyor ve büyüme hedeflerinizi riske atabilir.`);
                });

                // Strategic Recommendation
                if (score >= 80) {
                    insights.strategicRecommendation = 'Mevcut güçlü konumunuzu koruyarak, yenilikçi teknolojilere yatırım yaparak pazar liderliğinizi pekiştirmeniz öneriliyor.';
                } else if (score >= 60) {
                    insights.strategicRecommendation = 'Temel altyapınız sağlam. Şimdi dijital dönüşümü hızlandırarak rekabet avantajınızı artırma zamanı.';
                } else {
                    insights.strategicRecommendation = 'Acil dijital dönüşüm planı uygulamanız kritik. Öncelikli alanları belirleyerek sistematik iyileştirme yaklaşımı benimseyin.';
                }

                // Market Opportunity
                if (assessmentType === 'e-commerce') {
                    insights.marketOpportunity = 'E-ticaret pazarının %25 büyümesi ve mobil alışverişin yaygınlaşması ile birlikte, doğru stratejilerle pazar payınızı 2-3 kat artırabilirsiniz.';
                } else {
                    insights.marketOpportunity = 'Dijital ihracat platformlarının gelişimi ve B2B e-ticaretteki %40 büyüme trendi, yeni coğrafi pazarlara açılım için ideal fırsat sunuyor.';
                }

                // Risk Assessment
                const riskLevel = score < 40 ? 'Yüksek' : score < 70 ? 'Orta' : 'Düşük';
                insights.riskAssessment = `Mevcut dijital olgunluk seviyeniz ${riskLevel.toLowerCase()} risk taşıyor. ${riskLevel === 'Yüksek' ? 'Rakipleriniz tarafından geçilme riski var.' : riskLevel === 'Orta' ? 'Teknolojik değişimlere uyum sağlama hızınızı artırmalısınız.' : 'Güçlü konumunuzu sürdürebilir ve yeni fırsatları değerlendirebilirsiniz.'}`;

                return insights;
            };

            const insights = getAIInsights();

            return (
                <div className="space-y-6">
                    {/* AI Analysis Header */}
                    <div className="bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-6">
                        <div className="flex items-center mb-4">
                            <div className="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 mr-4">
                                <i className="fas fa-robot text-xl"></i>
                            </div>
                            <div>
                                <h4 className="font-bold text-gray-900">AI Yapay Zeka Analizi</h4>
                                <p className="text-sm text-gray-600">Gelişmiş makine öğrenmesi algoritmaları ile derin analiz</p>
                            </div>
                        </div>
                        <div className="bg-white rounded-lg p-4 border border-purple-100">
                            <p className="text-gray-700 font-medium">{insights.strategicRecommendation}</p>
                        </div>
                    </div>

                    {/* Detailed AI Insights */}
                    <div className="grid md:grid-cols-2 gap-6">
                        {/* Strengths & Opportunities */}
                        <div className="space-y-4">
                            <div className="bg-green-50 rounded-xl p-6">
                                <h4 className="font-bold text-green-800 mb-4 flex items-center">
                                    <i className="fas fa-lightbulb mr-2"></i>
                                    Güçlü Yanlar & Fırsatlar
                                </h4>
                                <div className="space-y-3">
                                    {insights.keyStrengths.map((strength, index) => (
                                        <div key={index} className="flex items-start">
                                            <i className="fas fa-check-circle text-green-600 mr-2 mt-1 flex-shrink-0"></i>
                                            <p className="text-sm text-green-700">{strength}</p>
                                        </div>
                                    ))}
                                    <div className="flex items-start">
                                        <i className="fas fa-trending-up text-green-600 mr-2 mt-1 flex-shrink-0"></i>
                                        <p className="text-sm text-green-700 font-medium">{insights.marketOpportunity}</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Risks & Challenges */}
                        <div className="space-y-4">
                            <div className="bg-red-50 rounded-xl p-6">
                                <h4 className="font-bold text-red-800 mb-4 flex items-center">
                                    <i className="fas fa-exclamation-triangle mr-2"></i>
                                    Riskler & Kritik Alanlar
                                </h4>
                                <div className="space-y-3">
                                    {insights.criticalGaps.map((gap, index) => (
                                        <div key={index} className="flex items-start">
                                            <i className="fas fa-times-circle text-red-600 mr-2 mt-1 flex-shrink-0"></i>
                                            <p className="text-sm text-red-700">{gap}</p>
                                        </div>
                                    ))}
                                    <div className="flex items-start">
                                        <i className="fas fa-shield-alt text-red-600 mr-2 mt-1 flex-shrink-0"></i>
                                        <p className="text-sm text-red-700 font-medium">{insights.riskAssessment}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* AI Confidence Score */}
                    <div className="bg-blue-50 rounded-xl p-6">
                        <div className="flex items-center justify-between">
                            <div>
                                <h4 className="font-bold text-blue-800 mb-2">AI Güvenilirlik Skoru</h4>
                                <p className="text-sm text-blue-700">Bu analiz 15,000+ şirket verisi ve sektör trendleri üzerinden yapılmıştır</p>
                            </div>
                            <div className="text-center">
                                <div className="text-3xl font-bold text-blue-600 mb-1">94%</div>
                                <div className="text-xs text-blue-600">Güvenilirlik</div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Risk Matrix Component
        function RiskMatrix({ results }) {
            const getRiskAnalysis = () => {
                const score = results.overallScore;
                const categoryScores = results.categoryScores;
                
                const risks = [
                    {
                        category: 'Teknolojik',
                        risks: [
                            { name: 'Altyapı Yetersizliği', probability: score < 50 ? 'Yüksek' : score < 70 ? 'Orta' : 'Düşük', impact: 'Yüksek' },
                            { name: 'Siber Güvenlik', probability: 'Orta', impact: 'Yüksek' },
                            { name: 'Sistem Entegrasyonu', probability: score < 60 ? 'Yüksek' : 'Orta', impact: 'Orta' }
                        ]
                    },
                    {
                        category: 'Operasyonel',
                        risks: [
                            { name: 'Süreç Verimsizliği', probability: score < 60 ? 'Yüksek' : 'Orta', impact: 'Orta' },
                            { name: 'Kalite Kontrolü', probability: 'Orta', impact: 'Yüksek' },
                            { name: 'Tedarik Zinciri', probability: 'Düşük', impact: 'Yüksek' }
                        ]
                    },
                    {
                        category: 'Pazar',
                        risks: [
                            { name: 'Rekabet Baskısı', probability: 'Yüksek', impact: 'Yüksek' },
                            { name: 'Müşteri Kaybı', probability: score < 70 ? 'Orta' : 'Düşük', impact: 'Yüksek' },
                            { name: 'Fiyat Baskısı', probability: 'Orta', impact: 'Orta' }
                        ]
                    },
                    {
                        category: 'Regülasyon',
                        risks: [
                            { name: 'KVKK/GDPR Uyumsuzluğu', probability: 'Orta', impact: 'Yüksek' },
                            { name: 'Ticaret Düzenlemeleri', probability: 'Düşük', impact: 'Orta' },
                            { name: 'Vergi Değişiklikleri', probability: 'Düşük', impact: 'Orta' }
                        ]
                    }
                ];

                return risks;
            };

            const risks = getRiskAnalysis();
            const riskColors = {
                'Yüksek': { bg: 'bg-red-100', text: 'text-red-800', border: 'border-red-300' },
                'Orta': { bg: 'bg-yellow-100', text: 'text-yellow-800', border: 'border-yellow-300' },
                'Düşük': { bg: 'bg-green-100', text: 'text-green-800', border: 'border-green-300' }
            };

            const getRiskScore = (probability, impact) => {
                const probValue = probability === 'Yüksek' ? 3 : probability === 'Orta' ? 2 : 1;
                const impactValue = impact === 'Yüksek' ? 3 : impact === 'Orta' ? 2 : 1;
                return probValue * impactValue;
            };

            return (
                <div className="space-y-6">
                    {/* Risk Heatmap */}
                    <div className="bg-gray-50 rounded-xl p-6">
                        <h4 className="font-bold text-gray-900 mb-6">Risk Isı Haritası</h4>
                        <div className="grid grid-cols-4 gap-1 mb-4">
                            {/* Headers */}
                            <div></div>
                            <div className="text-center text-sm font-medium p-2">Düşük Etki</div>
                            <div className="text-center text-sm font-medium p-2">Orta Etki</div>
                            <div className="text-center text-sm font-medium p-2">Yüksek Etki</div>
                            
                            {/* Yüksek Olasılık */}
                            <div className="text-sm font-medium p-2">Yüksek<br/>Olasılık</div>
                            <div className="bg-yellow-200 p-4 rounded text-center text-xs h-16 flex items-center justify-center">3</div>
                            <div className="bg-orange-300 p-4 rounded text-center text-xs h-16 flex items-center justify-center">6</div>
                            <div className="bg-red-400 p-4 rounded text-center text-xs h-16 flex items-center justify-center text-white">9</div>
                            
                            {/* Orta Olasılık */}
                            <div className="text-sm font-medium p-2">Orta<br/>Olasılık</div>
                            <div className="bg-green-200 p-4 rounded text-center text-xs h-16 flex items-center justify-center">2</div>
                            <div className="bg-yellow-300 p-4 rounded text-center text-xs h-16 flex items-center justify-center">4</div>
                            <div className="bg-orange-400 p-4 rounded text-center text-xs h-16 flex items-center justify-center text-white">6</div>
                            
                            {/* Düşük Olasılık */}
                            <div className="text-sm font-medium p-2">Düşük<br/>Olasılık</div>
                            <div className="bg-green-300 p-4 rounded text-center text-xs h-16 flex items-center justify-center">1</div>
                            <div className="bg-green-200 p-4 rounded text-center text-xs h-16 flex items-center justify-center">2</div>
                            <div className="bg-yellow-300 p-4 rounded text-center text-xs h-16 flex items-center justify-center">3</div>
                        </div>
                        <div className="flex justify-center space-x-6 text-xs">
                            <div className="flex items-center">
                                <div className="w-4 h-4 bg-green-300 rounded mr-2"></div>
                                <span>Düşük Risk (1-2)</span>
                            </div>
                            <div className="flex items-center">
                                <div className="w-4 h-4 bg-yellow-300 rounded mr-2"></div>
                                <span>Orta Risk (3-4)</span>
                            </div>
                            <div className="flex items-center">
                                <div className="w-4 h-4 bg-orange-400 rounded mr-2"></div>
                                <span>Yüksek Risk (6)</span>
                            </div>
                            <div className="flex items-center">
                                <div className="w-4 h-4 bg-red-400 rounded mr-2"></div>
                                <span>Kritik Risk (9)</span>
                            </div>
                        </div>
                    </div>

                    {/* Risk Categories */}
                    <div className="grid md:grid-cols-2 gap-6">
                        {risks.map((category, index) => (
                            <div key={index} className="bg-white rounded-xl p-6 border">
                                <h4 className="font-bold text-gray-900 mb-4 flex items-center">
                                    <i className={`fas fa-${
                                        category.category === 'Teknolojik' ? 'microchip' :
                                        category.category === 'Operasyonel' ? 'cogs' :
                                        category.category === 'Pazar' ? 'chart-line' : 'gavel'
                                    } mr-2 text-blue-600`}></i>
                                    {category.category} Riskler
                                </h4>
                                <div className="space-y-3">
                                    {category.risks.map((risk, riskIndex) => {
                                        const riskScore = getRiskScore(risk.probability, risk.impact);
                                        const riskLevel = riskScore >= 6 ? 'Yüksek' : riskScore >= 3 ? 'Orta' : 'Düşük';
                                        return (
                                            <div key={riskIndex} className="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                                <div>
                                                    <div className="font-medium text-sm">{risk.name}</div>
                                                    <div className="text-xs text-gray-500">
                                                        Olasılık: {risk.probability} | Etki: {risk.impact}
                                                    </div>
                                                </div>
                                                <div className="flex items-center space-x-2">
                                                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${
                                                        riskColors[riskLevel].bg} ${riskColors[riskLevel].text}`}>
                                                        {riskLevel}
                                                    </span>
                                                    <div className="text-lg font-bold text-gray-700">{riskScore}</div>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Risk Summary */}
                    <div className="bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-6">
                        <h4 className="font-bold text-red-800 mb-4">Risk Özeti ve Öncelikler</h4>
                        <div className="grid md:grid-cols-3 gap-4">
                            <div className="text-center">
                                <div className="text-2xl font-bold text-red-600 mb-1">
                                    {risks.flatMap(c => c.risks).filter(r => getRiskScore(r.probability, r.impact) >= 6).length}
                                </div>
                                <div className="text-sm text-red-700">Yüksek Risk</div>
                            </div>
                            <div className="text-center">
                                <div className="text-2xl font-bold text-orange-600 mb-1">
                                    {risks.flatMap(c => c.risks).filter(r => {const s = getRiskScore(r.probability, r.impact); return s >= 3 && s < 6;}).length}
                                </div>
                                <div className="text-sm text-orange-700">Orta Risk</div>
                            </div>
                            <div className="text-center">
                                <div className="text-2xl font-bold text-green-600 mb-1">
                                    {risks.flatMap(c => c.risks).filter(r => getRiskScore(r.probability, r.impact) < 3).length}
                                </div>
                                <div className="text-sm text-green-700">Düşük Risk</div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Executive Summary Component
        function ExecutiveSummary({ results }) {
            const getExecutiveInsights = () => {
                const score = results.overallScore;
                const assessmentType = results.assessmentType;
                const companyInfo = results.companyInfo;
                
                // Executive level insights
                const insights = {
                    overallReadiness: score >= 80 ? 'Lider' : score >= 60 ? 'Güçlü' : score >= 40 ? 'Orta' : 'Gelişime Açık',
                    competitivePosition: score >= 70 ? 'Sektör Liderliği' : score >= 50 ? 'Rekabet Edebilir' : 'Yetişme Geregi',
                    investmentPriority: score < 60 ? 'Yüksek Öncelik' : 'Stratejik Planlama',
                    timeToValue: score >= 70 ? '3-6 Ay' : score >= 50 ? '6-12 Ay' : '12-18 Ay',
                    riskLevel: score >= 70 ? 'Düşük' : score >= 50 ? 'Yönetilebilir' : 'Yüksek'
                };

                // Strategic recommendations for C-level
                const strategicActions = [];
                if (score < 50) {
                    strategicActions.push('Acil dijital dönüşüm yatırımı gerekli');
                    strategicActions.push('Rekabet avantajı kaybı riski mevcut');
                    strategicActions.push('12-18 ay içinde kritik seviyeye çıkma zorunluluğu');
                } else if (score < 70) {
                    strategicActions.push('Orta vadeli dijital yatırımları planlama');
                    strategicActions.push('Sektör ortalamasını yakalama hedefi');
                    strategicActions.push('6-12 ay içinde rekabet avantajı sağlama');
                } else {
                    strategicActions.push('Liderlik konumunu pekiştirme');
                    strategicActions.push('Yenilikçi teknolojilere yatırım');
                    strategicActions.push('3-6 ay içinde pazar payı genişletme');
                }

                return { insights, strategicActions };
            };

            const executive = getExecutiveInsights();

            return (
                <div className="space-y-6">
                    {/* Key Metrics Dashboard */}
                    <div className="bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-6">
                        <h4 className="font-bold text-purple-800 mb-6 text-lg">Yönetici Panosu - Ana Metrikler</h4>
                        <div className="grid md:grid-cols-5 gap-4">
                            <div className="text-center">
                                <div className="text-2xl font-bold text-purple-600 mb-1">{results.overallScore}%</div>
                                <div className="text-xs text-purple-700">Dijital Olgunluk</div>
                                <div className="text-xs text-purple-600 font-medium">{executive.insights.overallReadiness}</div>
                            </div>
                            <div className="text-center">
                                <div className="text-2xl font-bold text-blue-600 mb-1">#{Math.floor(95 - results.overallScore * 0.8)}</div>
                                <div className="text-xs text-blue-700">Sektör Sıralaması</div>
                                <div className="text-xs text-blue-600 font-medium">{executive.insights.competitivePosition}</div>
                            </div>
                            <div className="text-center">
                                <div className="text-2xl font-bold text-green-600 mb-1">{executive.insights.timeToValue}</div>
                                <div className="text-xs text-green-700">Değer Oluşturma</div>
                                <div className="text-xs text-green-600 font-medium">Time to Value</div>
                            </div>
                            <div className="text-center">
                                <div className={`text-2xl font-bold mb-1 ${
                                    executive.insights.riskLevel === 'Düşük' ? 'text-green-600' :
                                    executive.insights.riskLevel === 'Yönetilebilir' ? 'text-orange-600' : 'text-red-600'
                                }`}>
                                    {executive.insights.riskLevel === 'Düşük' ? '2.1' : executive.insights.riskLevel === 'Yönetilebilir' ? '4.3' : '7.8'}
                                </div>
                                <div className="text-xs text-gray-700">Risk Skoru</div>
                                <div className={`text-xs font-medium ${
                                    executive.insights.riskLevel === 'Düşük' ? 'text-green-600' :
                                    executive.insights.riskLevel === 'Yönetilebilir' ? 'text-orange-600' : 'text-red-600'
                                }`}>{executive.insights.riskLevel}</div>
                            </div>
                            <div className="text-center">
                                <div className={`text-2xl font-bold mb-1 ${
                                    executive.insights.investmentPriority === 'Yüksek Öncelik' ? 'text-red-600' : 'text-blue-600'
                                }`}>
                                    {executive.insights.investmentPriority === 'Yüksek Öncelik' ? 'A+' : 'B'}
                                </div>
                                <div className="text-xs text-gray-700">Yatırım Öncelik</div>
                                <div className={`text-xs font-medium ${
                                    executive.insights.investmentPriority === 'Yüksek Öncelik' ? 'text-red-600' : 'text-blue-600'
                                }`}>{executive.insights.investmentPriority}</div>
                            </div>
                        </div>
                    </div>

                    {/* Strategic Overview */}
                    <div className="grid md:grid-cols-2 gap-6">
                        {/* Current State */}
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h4 className="font-bold text-gray-900 mb-4 flex items-center">
                                <i className="fas fa-crosshairs mr-2 text-blue-600"></i>
                                Mevcut Durum Analizi
                            </h4>
                            <div className="space-y-3">
                                <div className="flex justify-between items-center">
                                    <span className="text-gray-700">Dijital Olgunluk Seviyesi:</span>
                                    <span className="font-bold text-gray-900">{executive.insights.overallReadiness}</span>
                                </div>
                                <div className="flex justify-between items-center">
                                    <span className="text-gray-700">Rekabet Pozisyonu:</span>
                                    <span className="font-bold text-gray-900">{executive.insights.competitivePosition}</span>
                                </div>
                                <div className="flex justify-between items-center">
                                    <span className="text-gray-700">Sektör Karşılaştırması:</span>
                                    <span className={`font-bold ${
                                        results.overallScore >= 70 ? 'text-green-600' :
                                        results.overallScore >= 50 ? 'text-orange-600' : 'text-red-600'
                                    }`}>
                                        {results.overallScore >= 70 ? 'Üst %20' :
                                         results.overallScore >= 50 ? 'Ortalama' : 'Alt %30'}
                                    </span>
                                </div>
                                <div className="flex justify-between items-center">
                                    <span className="text-gray-700">Kritik Alan Sayısı:</span>
                                    <span className="font-bold text-red-600">
                                        {Object.values(results.categoryScores).filter(cat => cat.score < 50).length}
                                    </span>
                                </div>
                            </div>
                        </div>

                        {/* Strategic Actions */}
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h4 className="font-bold text-gray-900 mb-4 flex items-center">
                                <i className="fas fa-chess mr-2 text-purple-600"></i>
                                Stratejik Aksiyonlar
                            </h4>
                            <div className="space-y-3">
                                {executive.strategicActions.map((action, index) => (
                                    <div key={index} className="flex items-start">
                                        <div className={`w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3 mt-0.5 ${
                                            index === 0 ? 'bg-red-500' : index === 1 ? 'bg-orange-500' : 'bg-blue-500'
                                        }`}>
                                            {index + 1}
                                        </div>
                                        <span className="text-sm text-gray-700 font-medium">{action}</span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* Executive Recommendation */}
                    <div className="bg-gradient-to-r from-gray-900 to-blue-900 rounded-xl p-6 text-white">
                        <div className="flex items-center mb-4">
                            <div className="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mr-4">
                                <i className="fas fa-user-tie text-xl"></i>
                            </div>
                            <div>
                                <h4 className="font-bold text-lg">CEO Tavsiyesi</h4>
                                <p className="text-gray-300 text-sm">ExportIQ 360 Yönetici Analizi</p>
                            </div>
                        </div>
                        <div className="bg-white/10 rounded-lg p-4 border border-white/20">
                            <p className="text-white font-medium leading-relaxed">
                                {results.overallScore >= 80 ? 
                                    `Tebrikler! ${results.companyInfo.companyName} dijital olgunluk açısından sektör liderliği konumunda. Mevcut avantajınızı koruyarak, yenilikçi teknolojilere yatırım yapmanızı ve pazar payınızı genişletmenizi tavsiye ediyoruz.` :
                                 results.overallScore >= 60 ?
                                    `${results.companyInfo.companyName} sürdürülebilir büyüme için kritik eşiğde. Mevcut güçlü temellerinizi koruyarak, kritik eksiklikleri gidermeniz rekabet avantajı sağlayacak.` :
                                    `${results.companyInfo.companyName} için dijital dönüşüm artık bir gereklilik haline gelmiş. Acil eylem planı ve yatırım stratejisi ile 12-18 ay içinde rekabet edebilir seviyeye ulaşabilirsiniz.`
                                }
                            </p>
                        </div>
                    </div>
                </div>
            );
        }

        // ROI Analysis Component
        function ROIAnalysis({ results }) {
            const getROIMetrics = () => {
                const score = results.overallScore;
                const assessmentType = results.assessmentType;
                const companyInfo = results.companyInfo;
                
                // Revenue size estimation based on company info
                const revenueMultiplier = {
                    '0-1M': 0.5,
                    '1-10M': 5,
                    '10-50M': 25,
                    '50M+': 75
                }[companyInfo.annualRevenue] || 5;

                // Investment requirements based on current score
                const investmentLevels = {
                    low: score >= 80 ? revenueMultiplier * 0.02 : 0, // 2% of revenue
                    medium: score >= 60 ? revenueMultiplier * 0.05 : revenueMultiplier * 0.03, // 3-5%
                    high: score < 60 ? revenueMultiplier * 0.08 : revenueMultiplier * 0.05 // 5-8%
                };

                // ROI calculations
                const projectedGains = {
                    efficiency: revenueMultiplier * 0.15, // 15% efficiency gain
                    revenue: revenueMultiplier * (score < 50 ? 0.25 : score < 70 ? 0.35 : 0.45), // 25-45% revenue growth potential
                    cost_reduction: revenueMultiplier * 0.12, // 12% cost reduction
                    market_expansion: revenueMultiplier * (assessmentType === 'e-export' ? 0.3 : 0.2) // 20-30% market expansion
                };

                const totalInvestment = Object.values(investmentLevels).reduce((a, b) => a + b, 0);
                const totalGains = Object.values(projectedGains).reduce((a, b) => a + b, 0);
                const netROI = ((totalGains - totalInvestment) / totalInvestment) * 100;
                const paybackPeriod = totalInvestment / (totalGains / 12); // months

                return {
                    investmentLevels,
                    projectedGains,
                    totalInvestment,
                    totalGains,
                    netROI,
                    paybackPeriod,
                    fiveYearNPV: totalGains * 3.5 - totalInvestment
                };
            };

            const roi = getROIMetrics();

            return (
                <div className="space-y-6">
                    {/* ROI Overview */}
                    <div className="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6">
                        <h4 className="font-bold text-green-800 mb-6">Yatırım Getirisi Özeti (ROI)</h4>
                        <div className="grid md:grid-cols-4 gap-6">
                            <div className="text-center">
                                <div className="text-3xl font-bold text-green-600 mb-2">{Math.round(roi.netROI)}%</div>
                                <div className="text-sm text-green-700">Net ROI</div>
                                <div className="text-xs text-green-600 mt-1">1 yıl içinde</div>
                            </div>
                            <div className="text-center">
                                <div className="text-3xl font-bold text-blue-600 mb-2">{Math.round(roi.paybackPeriod)}</div>
                                <div className="text-sm text-blue-700">Geri Ödeme</div>
                                <div className="text-xs text-blue-600 mt-1">Ay cinsinden</div>
                            </div>
                            <div className="text-center">
                                <div className="text-3xl font-bold text-purple-600 mb-2">{Math.round(roi.totalGains)}M</div>
                                <div className="text-sm text-purple-700">Toplam Kazanç</div>
                                <div className="text-xs text-purple-600 mt-1">TL (tahmini)</div>
                            </div>
                            <div className="text-center">
                                <div className="text-3xl font-bold text-orange-600 mb-2">{Math.round(roi.fiveYearNPV)}M</div>
                                <div className="text-sm text-orange-700">5 Yıl NPV</div>
                                <div className="text-xs text-orange-600 mt-1">Net Bugünkü Değer</div>
                            </div>
                        </div>
                    </div>

                    {/* Investment Breakdown */}
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl p-6 border">
                            <h4 className="font-bold text-gray-900 mb-4 flex items-center">
                                <i className="fas fa-coins mr-2 text-yellow-600"></i>
                                Yatırım Ihtiyacı Anağları
                            </h4>
                            <div className="space-y-4">
                                <div className="flex justify-between items-center p-3 bg-red-50 rounded-lg">
                                    <div>
                                        <div className="font-medium text-red-800">Yüksek Öncelik</div>
                                        <div className="text-sm text-red-600">Kritik sistem güncellemeleri</div>
                                    </div>
                                    <div className="text-xl font-bold text-red-600">{Math.round(roi.investmentLevels.high)}M TL</div>
                                </div>
                                <div className="flex justify-between items-center p-3 bg-orange-50 rounded-lg">
                                    <div>
                                        <div className="font-medium text-orange-800">Orta Vadeli</div>
                                        <div className="text-sm text-orange-600">Süreç optimizasyonları</div>
                                    </div>
                                    <div className="text-xl font-bold text-orange-600">{Math.round(roi.investmentLevels.medium)}M TL</div>
                                </div>
                                <div className="flex justify-between items-center p-3 bg-blue-50 rounded-lg">
                                    <div>
                                        <div className="font-medium text-blue-800">Stratejik</div>
                                        <div className="text-sm text-blue-600">Yenilik ve geliştirme</div>
                                    </div>
                                    <div className="text-xl font-bold text-blue-600">{Math.round(roi.investmentLevels.low)}M TL</div>
                                </div>
                                <div className="border-t pt-3">
                                    <div className="flex justify-between items-center">
                                        <span className="font-bold text-gray-900">Toplam Yatırım:</span>
                                        <span className="text-2xl font-bold text-gray-900">{Math.round(roi.totalInvestment)}M TL</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="bg-white rounded-xl p-6 border">
                            <h4 className="font-bold text-gray-900 mb-4 flex items-center">
                                <i className="fas fa-chart-line mr-2 text-green-600"></i>
                                Beklenen Kazançlar
                            </h4>
                            <div className="space-y-4">
                                <div className="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                                    <div>
                                        <div className="font-medium text-green-800">Verimlilik Artışı</div>
                                        <div className="text-sm text-green-600">Süreç otomasyonu</div>
                                    </div>
                                    <div className="text-xl font-bold text-green-600">+{Math.round(roi.projectedGains.efficiency)}M TL</div>
                                </div>
                                <div className="flex justify-between items-center p-3 bg-blue-50 rounded-lg">
                                    <div>
                                        <div className="font-medium text-blue-800">Gelir Artışı</div>
                                        <div className="text-sm text-blue-600">Pazar genişlemesi</div>
                                    </div>
                                    <div className="text-xl font-bold text-blue-600">+{Math.round(roi.projectedGains.revenue)}M TL</div>
                                </div>
                                <div className="flex justify-between items-center p-3 bg-purple-50 rounded-lg">
                                    <div>
                                        <div className="font-medium text-purple-800">Maliyet Azalması</div>
                                        <div className="text-sm text-purple-600">Operasyonel verimlilik</div>
                                    </div>
                                    <div className="text-xl font-bold text-purple-600">+{Math.round(roi.projectedGains.cost_reduction)}M TL</div>
                                </div>
                                <div className="flex justify-between items-center p-3 bg-orange-50 rounded-lg">
                                    <div>
                                        <div className="font-medium text-orange-800">Yeni Pazarlar</div>
                                        <div className="text-sm text-orange-600">Coğrafi genişleme</div>
                                    </div>
                                    <div className="text-xl font-bold text-orange-600">+{Math.round(roi.projectedGains.market_expansion)}M TL</div>
                                </div>
                                <div className="border-t pt-3">
                                    <div className="flex justify-between items-center">
                                        <span className="font-bold text-gray-900">Toplam Kazanç:</span>
                                        <span className="text-2xl font-bold text-green-600">+{Math.round(roi.totalGains)}M TL</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Financial Timeline */}
                    <div className="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6">
                        <h4 className="font-bold text-blue-800 mb-6">Finansal Zaman Çizelgesi ve Projeksiyon</h4>
                        <div className="grid md:grid-cols-5 gap-4">
                            <div className="text-center">
                                <div className="bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-lg font-bold text-red-600 mb-1">0-3 Ay</div>
                                    <div className="text-sm text-gray-600 mb-2">Yatırım Aşaması</div>
                                    <div className="text-xs text-red-600">-{Math.round(roi.totalInvestment * 0.6)}M TL</div>
                                </div>
                            </div>
                            <div className="text-center">
                                <div className="bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-lg font-bold text-orange-600 mb-1">3-6 Ay</div>
                                    <div className="text-sm text-gray-600 mb-2">Uygulama</div>
                                    <div className="text-xs text-orange-600">-{Math.round(roi.totalInvestment * 0.4)}M TL</div>
                                </div>
                            </div>
                            <div className="text-center">
                                <div className="bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-lg font-bold text-yellow-600 mb-1">6-9 Ay</div>
                                    <div className="text-sm text-gray-600 mb-2">Başlangıç Getiri</div>
                                    <div className="text-xs text-yellow-600">+{Math.round(roi.totalGains * 0.2)}M TL</div>
                                </div>
                            </div>
                            <div className="text-center">
                                <div className="bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-lg font-bold text-blue-600 mb-1">9-12 Ay</div>
                                    <div className="text-sm text-gray-600 mb-2">Tam Getiri</div>
                                    <div className="text-xs text-blue-600">+{Math.round(roi.totalGains * 0.4)}M TL</div>
                                </div>
                            </div>
                            <div className="text-center">
                                <div className="bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-lg font-bold text-green-600 mb-1">12+ Ay</div>
                                    <div className="text-sm text-gray-600 mb-2">Sürekli Büyüme</div>
                                    <div className="text-xs text-green-600">+{Math.round(roi.totalGains * 0.4)}M TL</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Risk Adjusted Returns */}
                    <div className="bg-gray-50 rounded-xl p-6">
                        <h4 className="font-bold text-gray-900 mb-4">Risk Ayarlı Getiri Analizi</h4>
                        <div className="grid md:grid-cols-3 gap-6">
                            <div className="bg-white rounded-lg p-4 text-center">
                                <div className="text-lg font-bold text-green-600 mb-1">Optimistik</div>
                                <div className="text-2xl font-bold text-green-600">{Math.round(roi.netROI * 1.3)}%</div>
                                <div className="text-sm text-green-600">En iyi senaryo</div>
                            </div>
                            <div className="bg-white rounded-lg p-4 text-center border-2 border-blue-200">
                                <div className="text-lg font-bold text-blue-600 mb-1">Gerçekçi</div>
                                <div className="text-2xl font-bold text-blue-600">{Math.round(roi.netROI)}%</div>
                                <div className="text-sm text-blue-600">Beklenen senaryo</div>
                            </div>
                            <div className="bg-white rounded-lg p-4 text-center">
                                <div className="text-lg font-bold text-orange-600 mb-1">Konservatif</div>
                                <div className="text-2xl font-bold text-orange-600">{Math.round(roi.netROI * 0.7)}%</div>
                                <div className="text-sm text-orange-600">Minimum getiri</div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Maturity Model Component
        function MaturityModel({ results }) {
            const getMaturityLevel = () => {
                const score = results.overallScore;
                
                const levels = [
                    { level: 1, name: 'Başlangıç', min: 0, max: 20, description: 'Temel dijital araçlar ve süreçler', color: 'red' },
                    { level: 2, name: 'Gelişmekte', min: 21, max: 40, description: 'Parçalı dijital çözümler', color: 'orange' },
                    { level: 3, name: 'Tanımlı', min: 41, max: 60, description: 'Standartlaşmış dijital süreçler', color: 'yellow' },
                    { level: 4, name: 'Yönetilen', min: 61, max: 80, description: 'Entegre dijital ekosistem', color: 'blue' },
                    { level: 5, name: 'Optimize', min: 81, max: 100, description: 'İleri düzey ve sürekli iyileştirme', color: 'green' }
                ];

                const currentLevel = levels.find(l => score >= l.min && score <= l.max);
                const nextLevel = levels.find(l => l.level === currentLevel.level + 1);
                const progressInLevel = ((score - currentLevel.min) / (currentLevel.max - currentLevel.min)) * 100;

                return { currentLevel, nextLevel, progressInLevel, levels };
            };

            const maturity = getMaturityLevel();
            const levelColors = {
                red: { bg: 'bg-red-50', border: 'border-red-200', text: 'text-red-700', icon: 'text-red-500' },
                orange: { bg: 'bg-orange-50', border: 'border-orange-200', text: 'text-orange-700', icon: 'text-orange-500' },
                yellow: { bg: 'bg-yellow-50', border: 'border-yellow-200', text: 'text-yellow-700', icon: 'text-yellow-500' },
                blue: { bg: 'bg-blue-50', border: 'border-blue-200', text: 'text-blue-700', icon: 'text-blue-500' },
                green: { bg: 'bg-green-50', border: 'border-green-200', text: 'text-green-700', icon: 'text-green-500' }
            };

            return (
                <div className="space-y-6">
                    {/* Current Maturity Level */}
                    <div className={`${levelColors[maturity.currentLevel.color].bg} rounded-xl p-6 border-2 ${levelColors[maturity.currentLevel.color].border}`}>
                        <div className="flex items-center justify-between mb-4">
                            <div className="flex items-center">
                                <div className={`w-16 h-16 rounded-full border-4 ${levelColors[maturity.currentLevel.color].border} flex items-center justify-center mr-4`}>
                                    <span className={`text-2xl font-bold ${levelColors[maturity.currentLevel.color].text}`}>
                                        {maturity.currentLevel.level}
                                    </span>
                                </div>
                                <div>
                                    <h4 className={`text-2xl font-bold ${levelColors[maturity.currentLevel.color].text}`}>
                                        Seviye {maturity.currentLevel.level}: {maturity.currentLevel.name}
                                    </h4>
                                    <p className={`${levelColors[maturity.currentLevel.color].text} opacity-80`}>
                                        {maturity.currentLevel.description}
                                    </p>
                                </div>
                            </div>
                            <div className="text-right">
                                <div className={`text-3xl font-bold ${levelColors[maturity.currentLevel.color].text}`}>
                                    {results.overallScore}%
                                </div>
                                <div className={`text-sm ${levelColors[maturity.currentLevel.color].text} opacity-75`}>
                                    Mevcut Puan
                                </div>
                            </div>
                        </div>
                        
                        {/* Progress in current level */}
                        <div className="mb-4">
                            <div className="flex justify-between text-sm mb-2">
                                <span className={levelColors[maturity.currentLevel.color].text}>Bu seviyedeki ilerleme</span>
                                <span className={levelColors[maturity.currentLevel.color].text}>{Math.round(maturity.progressInLevel)}%</span>
                            </div>
                            <div className="w-full bg-white rounded-full h-3">
                                <div 
                                    className={`h-3 rounded-full transition-all duration-1000 ${
                                        maturity.currentLevel.color === 'red' ? 'bg-red-500' :
                                        maturity.currentLevel.color === 'orange' ? 'bg-orange-500' :
                                        maturity.currentLevel.color === 'yellow' ? 'bg-yellow-500' :
                                        maturity.currentLevel.color === 'blue' ? 'bg-blue-500' : 'bg-green-500'
                                    }`}
                                    style={{width: `${maturity.progressInLevel}%`}}>
                                </div>
                            </div>
                        </div>
                        
                        {maturity.nextLevel && (
                            <div className="text-center">
                                <p className={`text-sm ${levelColors[maturity.currentLevel.color].text}`}>
                                    Bir sonraki seviye için <strong>{maturity.nextLevel.min - results.overallScore} puan</strong> daha gerekli
                                </p>
                            </div>
                        )}
                    </div>

                    {/* Maturity Roadmap */}
                    <div className="bg-white rounded-xl p-6 border">
                        <h4 className="font-bold text-gray-900 mb-6">Dijital Olgunluk Yol Haritası</h4>
                        <div className="relative">
                            {/* Timeline line */}
                            <div className="absolute left-8 top-0 bottom-0 w-0.5 bg-gray-300"></div>
                            
                            <div className="space-y-8">
                                {maturity.levels.map((level, index) => {
                                    const isCompleted = results.overallScore >= level.min;
                                    const isCurrent = level.level === maturity.currentLevel.level;
                                    return (
                                        <div key={level.level} className="relative flex items-center">
                                            {/* Timeline dot */}
                                            <div className={`w-16 h-16 rounded-full border-4 flex items-center justify-center z-10 ${
                                                isCompleted 
                                                ? `${levelColors[level.color].border} ${levelColors[level.color].bg}` 
                                                : 'border-gray-300 bg-white'
                                            }`}>
                                                <span className={`text-lg font-bold ${
                                                    isCompleted 
                                                    ? levelColors[level.color].text 
                                                    : 'text-gray-400'
                                                }`}>
                                                    {isCompleted ? <i className="fas fa-check"></i> : level.level}
                                                </span>
                                            </div>
                                            
                                            {/* Content */}
                                            <div className={`ml-6 p-4 rounded-lg border-2 flex-1 ${
                                                isCurrent 
                                                ? `${levelColors[level.color].bg} ${levelColors[level.color].border}` 
                                                : isCompleted 
                                                ? 'bg-green-50 border-green-200' 
                                                : 'bg-gray-50 border-gray-200'
                                            }`}>
                                                <h5 className={`font-bold mb-2 ${
                                                    isCurrent ? levelColors[level.color].text :
                                                    isCompleted ? 'text-green-700' : 'text-gray-600'
                                                }`}>
                                                    Seviye {level.level}: {level.name} ({level.min}-{level.max}%)
                                                    {isCurrent && <span className="ml-2 text-sm font-normal">(Mevcut Seviye)</span>}
                                                </h5>
                                                <p className={`text-sm ${
                                                    isCurrent ? levelColors[level.color].text :
                                                    isCompleted ? 'text-green-600' : 'text-gray-500'
                                                }`}>
                                                    {level.description}
                                                </p>
                                                {isCurrent && (
                                                    <div className="mt-3">
                                                        <div className="text-xs text-gray-600 mb-1">
                                                            Bu seviyedeki ilerlemeniz: {Math.round(maturity.progressInLevel)}%
                                                        </div>
                                                        <div className="w-full bg-white rounded-full h-2">
                                                            <div 
                                                                className={`h-2 rounded-full ${
                                                                    level.color === 'red' ? 'bg-red-500' :
                                                                    level.color === 'orange' ? 'bg-orange-500' :
                                                                    level.color === 'yellow' ? 'bg-yellow-500' :
                                                                    level.color === 'blue' ? 'bg-blue-500' : 'bg-green-500'
                                                                }`}
                                                                style={{width: `${maturity.progressInLevel}%`}}>
                                                            </div>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>

                    {/* Next Steps */}
                    {maturity.nextLevel && (
                        <div className="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6">
                            <h4 className="font-bold text-blue-800 mb-4 flex items-center">
                                <i className="fas fa-target mr-2"></i>
                                Bir Sonraki Seviyeye Geçiş Stratejisi
                            </h4>
                            <div className="grid md:grid-cols-3 gap-4">
                                <div className="bg-white rounded-lg p-4">
                                    <h5 className="font-medium text-gray-900 mb-2">Hedef Seviye</h5>
                                    <p className="text-2xl font-bold text-blue-600">{maturity.nextLevel.name}</p>
                                    <p className="text-sm text-gray-600">{maturity.nextLevel.description}</p>
                                </div>
                                <div className="bg-white rounded-lg p-4">
                                    <h5 className="font-medium text-gray-900 mb-2">Gerekli Puan Artışı</h5>
                                    <p className="text-2xl font-bold text-orange-600">+{maturity.nextLevel.min - results.overallScore}</p>
                                    <p className="text-sm text-gray-600">puan artışı gerekli</p>
                                </div>
                                <div className="bg-white rounded-lg p-4">
                                    <h5 className="font-medium text-gray-900 mb-2">Tahmini Süre</h5>
                                    <p className="text-2xl font-bold text-green-600">
                                        {Math.ceil((maturity.nextLevel.min - results.overallScore) / 5)}
                                    </p>
                                    <p className="text-sm text-gray-600">ay (tahmini)</p>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Recommendations Section Component
        function RecommendationsSection({ results }) {
            const getRecommendations = () => {
                const score = results.overallScore;
                const categoryScores = results.categoryScores;
                const assessmentType = results.assessmentType;
                
                // Get lowest scoring categories for targeted recommendations
                const lowestCategories = Object.entries(categoryScores)
                    .sort(([,a], [,b]) => a.score - b.score)
                    .slice(0, 2);

                const recommendations = {
                    immediate: [], // 0-1 ay
                    shortTerm: [], // 1-6 ay
                    mediumTerm: [], // 6-12 ay
                    longTerm: [] // 12+ ay
                };

                // Score-based general recommendations
                if (score < 40) {
                    recommendations.immediate.push(
                        'Acil dijital dönüşüm planı oluşturun',
                        'Temel teknolojik altyapıyı gözden geçirin',
                        'Uzman danışmanlık desteği alın'
                    );
                } else if (score < 70) {
                    recommendations.immediate.push(
                        'Mevcut süreçleri optimize edin',
                        'Eksik olan kritik alanları belirleyin'
                    );
                }

                // Assessment type specific recommendations
                if (assessmentType === 'e-commerce') {
                    recommendations.immediate.push('Mobil uyumluluk kontrolü yapın');
                    recommendations.shortTerm.push(
                        'Sosyal medya pazarlama stratejisi geliştirin',
                        'Müşteri deneyimi haritası oluşturun'
                    );
                    recommendations.mediumTerm.push(
                        'Omnichannel satış stratejisi uygulayın',
                        'AI destekli ürün öneri sistemi kurun'
                    );
                    recommendations.longTerm.push(
                        'Uluslararası pazarlara açılım planı',
                        'Sürdürülebilir e-ticaret modelini benimseyin'
                    );
                } else {
                    recommendations.immediate.push('İhracat dokümanlarını dijitalleştirin');
                    recommendations.shortTerm.push(
                        'B2B e-ticaret platformlarına katılın',
                        'Dijital pazarlama kanallarını aktif kullanın'
                    );
                    recommendations.mediumTerm.push(
                        'Yeni coğrafi pazarlara açılım stratejisi',
                        'Tedarik zinciri dijitalleşmesi'
                    );
                    recommendations.longTerm.push(
                        'Sürdürülebilir ihracat sertifikasyonları',
                        'Blockchain tabanlı lojistik çözümleri'
                    );
                }

                // Category-specific recommendations
                lowestCategories.forEach(([categoryKey, categoryData]) => {
                    if (categoryData.score < 50) {
                        recommendations.shortTerm.push(`${categoryData.title} alanında kapsamlı iyileştirme`);
                    }
                });

                return recommendations;
            };

            const recommendations = getRecommendations();
            const timeframes = [
                {
                    key: 'immediate',
                    title: 'Acil Öncelikler',
                    subtitle: '0-1 Ay',
                    icon: 'fas fa-exclamation-circle',
                    color: 'red',
                    bgColor: 'bg-red-50',
                    textColor: 'text-red-800',
                    iconColor: 'text-red-600'
                },
                {
                    key: 'shortTerm',
                    title: 'Kısa Vadeli',
                    subtitle: '1-6 Ay',
                    icon: 'fas fa-clock',
                    color: 'orange',
                    bgColor: 'bg-orange-50',
                    textColor: 'text-orange-800',
                    iconColor: 'text-orange-600'
                },
                {
                    key: 'mediumTerm',
                    title: 'Orta Vadeli',
                    subtitle: '6-12 Ay',
                    icon: 'fas fa-calendar-alt',
                    color: 'blue',
                    bgColor: 'bg-blue-50',
                    textColor: 'text-blue-800',
                    iconColor: 'text-blue-600'
                },
                {
                    key: 'longTerm',
                    title: 'Uzun Vadeli',
                    subtitle: '12+ Ay',
                    icon: 'fas fa-rocket',
                    color: 'green',
                    bgColor: 'bg-green-50',
                    textColor: 'text-green-800',
                    iconColor: 'text-green-600'
                }
            ];

            return (
                <div className="space-y-6">
                    {/* Priority Matrix Visual */}
                    <div className="mb-8">
                        <h4 className="text-lg font-bold text-gray-900 mb-4 flex items-center">
                            <i className="fas fa-sitemap mr-2 text-blue-600"></i>
                            Öncelik Matrisi
                        </h4>
                        <div className="grid md:grid-cols-4 gap-4">
                            {timeframes.map(timeframe => (
                                <div key={timeframe.key} className={`${timeframe.bgColor} rounded-lg p-4 text-center`}>
                                    <div className={`text-2xl mb-2 ${timeframe.iconColor}`}>
                                        <i className={timeframe.icon}></i>
                                    </div>
                                    <div className={`font-bold ${timeframe.textColor}`}>{timeframe.title}</div>
                                    <div className={`text-sm ${timeframe.textColor} opacity-80`}>{timeframe.subtitle}</div>
                                    <div className={`text-lg font-bold mt-2 ${timeframe.iconColor}`}>
                                        {recommendations[timeframe.key].length} öneri
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Detailed Recommendations */}
                    <div className="grid lg:grid-cols-2 gap-6">
                        {timeframes.map(timeframe => (
                            <div key={timeframe.key} className={`${timeframe.bgColor} rounded-xl p-6`}>
                                <h4 className={`text-lg font-bold mb-4 flex items-center ${timeframe.textColor}`}>
                                    <i className={`${timeframe.icon} mr-2`}></i>
                                    {timeframe.title}
                                    <span className="ml-2 text-sm font-normal opacity-75">
                                        ({timeframe.subtitle})
                                    </span>
                                </h4>
                                <div className="space-y-3">
                                    {recommendations[timeframe.key].length > 0 ? (
                                        recommendations[timeframe.key].map((recommendation, index) => (
                                            <div key={index} className="flex items-start">
                                                <div className={`w-2 h-2 rounded-full mt-2 mr-3 flex-shrink-0 bg-${timeframe.color}-600`}></div>
                                                <span className={`text-sm ${timeframe.textColor}`}>
                                                    {recommendation}
                                                </span>
                                            </div>
                                        ))
                                    ) : (
                                        <div className={`text-sm ${timeframe.textColor} opacity-75 italic`}>
                                            Bu zaman diliminde özel öneri bulunmuyor.
                                        </div>
                                    )}
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Implementation Guide */}
                    <div className="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mt-8">
                        <h4 className="text-lg font-bold text-gray-900 mb-4 flex items-center">
                            <i className="fas fa-route mr-2 text-blue-600"></i>
                            Uygulama Rehberi
                        </h4>
                        <div className="grid md:grid-cols-3 gap-4">
                            <div className="text-center">
                                <div className="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xl mx-auto mb-3">
                                    <i className="fas fa-list-check"></i>
                                </div>
                                <h5 className="font-medium text-gray-900 mb-2">1. Önceliklendirin</h5>
                                <p className="text-sm text-gray-600">Acil önceliklerden başlayarak sistematik bir yaklaşım benimseyin</p>
                            </div>
                            <div className="text-center">
                                <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-green-600 text-xl mx-auto mb-3">
                                    <i className="fas fa-users"></i>
                                </div>
                                <h5 className="font-medium text-gray-900 mb-2">2. Ekip Oluşturun</h5>
                                <p className="text-sm text-gray-600">Her alan için sorumlu ekipler belirleyin ve düzenli takip yapın</p>
                            </div>
                            <div className="text-center">
                                <div className="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 text-xl mx-auto mb-3">
                                    <i className="fas fa-chart-line"></i>
                                </div>
                                <h5 className="font-medium text-gray-900 mb-2">3. Ölçün ve İyileştirin</h5>
                                <p className="text-sm text-gray-600">İlerlemenizi düzenli olarak ölçerek stratejinizi güncelleyin</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Render the main app
        ReactDOM.render(<AssessmentPlatform />, document.getElementById('root'));
    </script>
</body>
</html>